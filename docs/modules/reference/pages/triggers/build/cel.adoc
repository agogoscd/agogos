= CEL Build Trigger

include::common:partial$draft.adoc[]

NOTE: This Trigger is part of xref:reference:triggers/build/index.adoc[Build triggers].

The CEL trigger is a variation of the xref:triggers/event.adoc[Event trigger]
which is evaluated on the payload of the
xref:events/agogos.adoc#componentbuild-events[successful Component build CloudEvent].

.Example of a CEL build trigger
[source,yaml]
----
apiVersion: agogos.redhat.com/v1alpha1
kind: Trigger
metadata:
  name: build-to-component
spec:
  events:
    - build:
        filter: "body.component.metadata.name == 'cpaas-test-brew-rpm'"
  target:
    kind: Pipeline
    name: p1
----

In above example trigger will be fired when the Component uses the `brew` Builder
and the data that is passed to the Builder contains `type` set to `bundle`. Any Build
of a Component that satisfies this requirement will trigger the resource.

[TIP]
====
You can use the `kubectl` command with the `-o json` switch to get the relevant
Component and Component Build data to have better understanding how
to craft your CEL expression.
====

