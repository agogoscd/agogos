apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  name: config.webhook.cpaas.redhat.com
webhooks:
  - name: validation.webhook.cpaas.redhat.com
    sideEffects: None
    failurePolicy: Fail
    admissionReviewVersions: ["v1"]
    clientConfig:
      #caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUMwekNDQWJ1Z0F3SUJBZ0lRR3RUQVFTNEVQS0JwVEtWVWRxbnVtekFOQmdrcWhraUc5dzBCQVFzRkFEQVQKTVJFd0R3WURWUVFLRXdobmIyeGtiV0Z1YmpBZUZ3MHlNREEzTWpVd09ETTNNREJhRncweU16QTNNVEF3T0RNMwpNREJhTUJNeEVUQVBCZ05WQkFvVENHZHZiR1J0WVc1dU1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBCk1JSUJDZ0tDQVFFQTQzd2txQ3JHNG5MUHpQSU1SQ29Kd2dhWnJQSFhKT0JjVGJkWkd0NFJIVmZYZGwyeEdaV1AKS0NCdUVHazYvQlR5Ryt2YTRMWnJSMXRuL2ZiSVNETEUxUkdDZkdWMThJeCtjWXJITGdrT01aS0J3SHRWbXAzeApYYkp4VEtxVk1tbEFteVhIMkIwcGNjeWtUQ284S0hHYTNlNDA5cng1NDU0NXhGSUJreklmazZTOFZwcnBNYU5tCm54MXNJb3hRdHhRSDI4anNkb2FUTTNWRDN0MGc0TU1MSStZL1ltQldYS0RoUHNGdmc5MmoveW55WkVJUk50cmcKeVFRdFpNamcxSHppOStpenMrNHNEVmV4cUg1UmVBRkxES1FnMytVcktFUVI2aTgwNStuTmw0TFAzVGhFOWdBSgpSTDYwbVlrTjBReVU2a3RmQ0FiOHBwVFUvVzkwNC9adkFRSURBUUFCb3lNd0lUQU9CZ05WSFE4QkFmOEVCQU1DCkFxd3dEd1lEVlIwVEFRSC9CQVV3QXdFQi96QU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FRRUFWeTJZM1MyTUViNXMKSEF6aTR1L3FFcXlkUmRpazVvVjZNSDdiVFR3NnlOaW44MTZKdWRxNDU4a0p4a045eUlxVFRaYkUyaVlBajU5Vgp5Mkl6L1pUNEREMGJHbDVyejcxem5CQ3Irbk5ocmRZTmVGZWhVZTBXT2tNd3NWVmRtTytMNnRDVmNDSnlNai9CClZCNkZrZ29jSStHZ2tqbE5MaWQvaDZaSjFLUmQ1WmhHVnlKZFJoaEEyZ2dzbkxFSzZJbFJSOU5aL2tRYWlrQzkKeVdGcHFUQ2NRRWJOcGJKdWRWakRpODFpYlNIcUx4dUVxWTJHTzlKMDJwUytqRU1GM052L2U3VW90VEdIelhtbAp4SVhEWDc5cEErUHJpc3JiSGdIL0ptaVRmN1U3WWFwdUNiZXFocktSSlNoQTh5WDliVTd5NDF3Nm1PRzJ0eW12ClQ5ekNkaTdYT2c9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
      url: "https://192.168.39.1:8443/webhooks/validate"
    rules:
      - operations: ["CREATE", "UPDATE"]
        apiGroups: ["cpaas.redhat.com"]
        apiVersions: ["v1alpha1"]
        resources: ["components"]
        scope: "Namespaced"
